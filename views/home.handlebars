<div class="hero" style="
    text-align: center; 
    padding: 4rem 2rem; 
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
    color: white; 
    border-radius: 15px; 
    margin-bottom: 3rem;
    box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
">
    <h1 style="font-size: 3rem; margin-bottom: 1rem; font-weight: 700;">
        Welcome to E-Commerce Platform
    </h1>
    <p style="font-size: 1.3rem; margin-bottom: 2rem; opacity: 0.9;">
        Discover amazing products at unbeatable prices
    </p>
    <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
        <a href="/products-list" class="btn btn-primary" style="
            font-size: 1.2rem; 
            padding: 1rem 2rem;
            background: white;
            color: #667eea;
            border: none;
        ">
            Shop Now
        </a>
        {{#unless user}}
            <a href="/register" class="btn btn-secondary" style="
                font-size: 1.2rem; 
                padding: 1rem 2rem;
            ">
                Join Us
            </a>
        {{/unless}}
    </div>
</div>

<div class="grid grid-3" style="margin-bottom: 3rem;">
    <div class="card" style="text-align: center; border-top: 4px solid #4CAF50;">
        <h3 style="color: #4CAF50; margin-bottom: 1rem;">üõçÔ∏è Quality Products</h3>
        <p style="color: #666;">Carefully curated selection of high-quality items from trusted sellers</p>
    </div>
    <div class="card" style="text-align: center; border-top: 4px solid #2196F3;">
        <h3 style="color: #2196F3; margin-bottom: 1rem;">üöö Fast Shipping</h3>
        <p style="color: #666;">Quick and reliable delivery right to your doorstep</p>
    </div>
    <div class="card" style="text-align: center; border-top: 4px solid #FF9800;">
        <h3 style="color: #FF9800; margin-bottom: 1rem;">üîí Secure Shopping</h3>
        <p style="color: #666;">Your data and transactions are protected with top security</p>
    </div>
</div>

<section>
    <div style="text-align: center; margin-bottom: 3rem;">
        <h2 style="font-size: 2.5rem; margin-bottom: 1rem; color: #333;">Featured Products</h2>
        <p style="color: #666; font-size: 1.1rem;">Check out our handpicked selection of popular items</p>
    </div>
    
    {{#if products.length}}
        <div class="product-grid">
            {{#each products}}
            <div class="product-card">
                <img src="/uploads/{{this.image}}" 
                     alt="{{this.name}}" 
                     class="product-image" 
                     onerror="this.src='/uploads/default-product.jpg'">
                
                <div class="product-info">
                    <h3 class="product-title">{{this.name}}</h3>
                    <p class="product-price">${{this.price}}</p>
                    <p class="product-description">{{this.description}}</p>
                    {{#if this.seller.name}}
                        <p class="product-seller">by {{this.seller.name}}</p>
                    {{/if}}
                    
                    <div style="display: flex; gap: 0.5rem; margin-top: 1rem;">
                        <a href="/product/{{this._id}}" 
                           class="btn btn-secondary" 
                           style="flex: 1; text-align: center; padding: 0.7rem;">
                            View Details
                        </a>
                        
                        {{#if ../user}}
                            {{#if (eq ../userRole 'user')}}
                                <form method="POST" action="/cart/add" style="flex: 1; margin: 0; padding: 0; background: none; box-shadow: none;">
                                    <input type="hidden" name="productId" value="{{this._id}}">
                                    <input type="hidden" name="quantity" value="1">
                                    <button type="submit" class="btn btn-primary" style="
                                        width: 100%; 
                                        padding: 0.7rem;
                                        border: none;
                                    ">
                                        Add to Cart
                                    </button>
                                </form>
                            {{/if}}
                        {{else}}
                            <a href="/login" 
                               class="btn btn-primary" 
                               style="flex: 1; text-align: center; padding: 0.7rem;">
                                Login to Buy
                            </a>
                        {{/if}}
                    </div>
                </div>
            </div>
            {{/each}}
        </div>
        
        <div style="text-align: center; margin-top: 3rem;">
            <a href="/products-list" class="btn btn-primary" style="
                font-size: 1.1rem; 
                padding: 1rem 2rem;
            ">
                View All Products
            </a>
        </div>
    {{else}}
        <div class="card" style="text-align: center; padding: 3rem;">
            <h3 style="margin-bottom: 1rem; color: #666;">No Products Available</h3>
            <p style="color: #888; margin-bottom: 2rem;">
                We're working hard to bring you amazing products. Check back soon!
            </p>
            {{#if (eq userRole 'seller')}}
                <a href="/seller/dashboard" class="btn btn-primary">Add Your First Product</a>
            {{else}}
                <a href="/register" class="btn btn-primary">Become a Seller</a>
            {{/if}}
        </div>
    {{/if}}
</section>

{{#unless user}}
<section style="margin-top: 4rem;">
    <div class="card" style="
        background: linear-gradient(135deg, #FF6B6B, #4ECDC4); 
        color: white; 
        text-align: center;
        border: none;
    ">
        <h2 style="margin-bottom: 1rem;">Want to Sell Your Products?</h2>
        <p style="margin-bottom: 2rem; opacity: 0.9;">
            Join thousands of sellers and start your online business today
        </p>
        <a href="/register" class="btn" style="
            background: white; 
            color: #FF6B6B; 
            font-weight: 600;
            font-size: 1.1rem;
            padding: 1rem 2rem;
        ">
            Become a Seller
        </a>
    </div>
</section>
{{/unless}}